# =========================================================
# UI THEME ‚Äî T·∫§T C·∫¢ CH·ªàNH ·ªû YAML
# - AXIS c·ª•c b·ªô cho t·ª´ng ƒë·ªëi t∆∞·ª£ng (d·ªãch/scale quanh m·ªëc)
# - LAYERS: ƒëi·ªÅu khi·ªÉn th·ª© t·ª± l·ªõp (z-index) HO√ÄN TO√ÄN b·∫±ng YAML
# - C√≥ th·ªÉ override z-index cho t·ª´ng OBJECT qua OBJECTS.*.Z_INDEX
# K√Ω hi·ªáu ƒë∆°n v·ªã nhanh:
#   *_PCT   = ph·∫ßn trƒÉm (%)
#   *_PX    = pixel (px)
#   *_VH    = viewport-height (% chi·ªÅu cao m√†n h√¨nh)
#   SCALE_* = h·ªá s·ªë (kh√¥ng ƒë∆°n v·ªã), 1.0 = gi·ªØ nguy√™n
# =========================================================

META:
  VERSION: 2.1
  NOTES: "Ch·ªâ s·ª≠a YAML; code ƒë·ªçc & render. C√≥ LAYERS ƒë·ªÉ set z-index."

# ---------------------------------------------------------
# M·ª§C L·ª§C/ƒê·ªäNH NGHƒ®A ƒê·ªêI T∆Ø·ª¢NG (ch·ªâ ƒë·ªÉ d·ªÖ ƒë·ªçc, code kh√¥ng d√πng)
# ---------------------------------------------------------
OBJECTS_INDEX:
  SIDEBAR: "C·ªôt tr√°i (menu, ƒëi·ªÅu khi·ªÉn)"
  CHAT_PANEL: "C·ªôt chat (khung n·ªôi dung gi·ªëng ChatGPT)"
  CHAT_INPUT: "√î nh·∫≠p tin nh·∫Øn (pill ·ªü d∆∞·ªõi/gi·ªØa khi r·ªóng)"
  BUBBLE_USER: "Bong b√≥ng tin ng∆∞·ªùi d√πng"
  BUBBLE_BOT: "Bong b√≥ng tin bot"
  DIVIDER_GLOBAL: "ƒê∆∞·ªùng k·∫ª gi·ªØa 2 c·ªôt (fallback to√†n c·ª•c)"
  SIDEBAR.DIVIDER: "ƒê∆∞·ªùng k·∫ª ri√™ng c·ªßa sidebar (∆∞u ti√™n n·∫øu USE_LOCAL=true)"

# ---------------------------------------------------------
# TR·ª§C CƒÇN GI·ªÆA TO√ÄN TRANG
# ---------------------------------------------------------
CENTER_AXIS:
  ENABLED: true
  MODE: viewport                  # viewport: theo m√†n h√¨nh | container: theo khung gi·ªØa
  X_PCT: 50                       # 0..100 ‚Üí 50 l√† gi·ªØa ngang
  Y_PCT: 50                       # 0..100 ‚Üí 50 l√† gi·ªØa d·ªçc
  SNAP_TO_GRID: false
  GRID_STEP_PX: 8

# ---------------------------------------------------------
# M√ÄU S·∫ÆC (k√®m t√™n m√†u)
# ---------------------------------------------------------
COLORS:
  BG:   "#FFFFFF"                 # ‚ö™ TR·∫ÆNG ‚Äî n·ªÅn t·ªïng th·ªÉ
  TEXT: "#1F2328"                 # ‚óº X√ÅM ƒê·∫¨M ‚Äî ch·ªØ th√¢n b√†i
  CARD: "#FFFFFF"                 # ‚ö™ TR·∫ÆNG ‚Äî n·ªÅn card/panel
  LINE: "#E5E7EB"                 # ‚óª X√ÅM NH·∫†T ‚Äî ƒë∆∞·ªùng k·∫ª/vi·ªÅn m·∫∑c ƒë·ªãnh
  PRIMARY: "#10A37F"              # üü¢ XANH ChatGPT ‚Äî m√†u nh·∫•n cho slider/toggle

# ---------------------------------------------------------
# KI·ªÇU CH·ªÆ
# ---------------------------------------------------------
TYPOGRAPHY:
  FONT_FAMILY: "Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
  BASE_SIZE_PX: 15
  TITLE_SIZE_PX: 20
  LINE_HEIGHT: 1.55

# ---------------------------------------------------------
# L·ªöP (Z-INDEX) ‚Äî THAY ƒê·ªîI TH·ª® T·ª∞ ƒê√à/L·ªòT L·ªöP ·ªû ƒê√ÇY
# ---------------------------------------------------------
# Quy ∆∞·ªõc m·∫∑c ƒë·ªãnh (c√≥ th·ªÉ ƒë·ªïi s·ªë tu·ª≥ √Ω):
#  - BASE: n·ªôi dung n·ªÅn
#  - HEADER: header Streamlit (n·∫øu hi·ªÉn th·ªã)
#  - CHAT: n·ªôi dung chat
#  - SIDEBAR: kh·ªëi sidebar
#  - DIVIDER: ƒë∆∞·ªùng k·∫ª c·ªßa sidebar (ƒë·∫∑t cao h∆°n ch√≠nh sidebar)
#  - INPUT: √¥ nh·∫≠p chat
#  - OVERLAY: overlay/h∆∞·ªõng d·∫´n
#  - TOGGLE: n√∫t toggle sidebar
LAYERS:
  BASE: 0
  HEADER: 80
  CHAT: 100
  SIDEBAR: 200
  DIVIDER: 210
  INPUT: 900
  OVERLAY: 950
  TOGGLE: 10000

# ---------------------------------------------------------
# B·ªê C·ª§C 2 C·ªòT & DIVIDER TO√ÄN C·ª§C
# ---------------------------------------------------------
LAYOUT:
  MAIN_MAX_WIDTH_PCT: 100
  GUTTER_PX: 0
  SIDEBAR_WIDTH_PCT: 24           # ‚Üë Sidebar to | ‚Üì h·∫πp (t·ªïng v·ªõi CHAT ‚â§ 100)
  CHAT_WIDTH_PCT: 76
  DIVIDER:
    SHOW: true
    COLOR: "#EEF2F7"              # ‚óª x√°m nh·∫°t h∆°n | ƒë·∫≠m h∆°n: "#E5E7EB"
    STYLE: "solid"                # solid | dashed | dotted
    WIDTH_PX: 1
    OFFSET_X_PX: 0

# ---------------------------------------------------------
# HI·ªÜU ·ª®NG (placeholder tr√°nh thi·∫øu kh√≥a)
# ---------------------------------------------------------
EFFECTS:
  SHADOW: false
  BLUR_PX: 0

# ---------------------------------------------------------
# ƒê·ªêI T∆Ø·ª¢NG + M·ªêC C·ª§C B·ªò (AXIS) ‚Äî c√≥ th·ªÉ OVERRIDE Z_INDEX n·∫øu mu·ªën
# ---------------------------------------------------------
OBJECTS:
  SIDEBAR:
    ENABLED: true
    Z_INDEX: 220                  # (tu·ª≥ ch·ªçn) override; n·∫øu b·ªè s·∫Ω d√πng LAYERS.SIDEBAR
    OFFSET_X: "100px"               # D·ªãch nguy√™n box sidebar: + ph·∫£i | - tr√°i
    OFFSET_Y: "0px"               # D·ªãch nguy√™n box sidebar: + xu·ªëng | - l√™n
    BG: "#0F172A"                 # ‚óº x√°m r·∫•t ƒë·∫≠m ‚Äî n·ªÅn
    TEXT: "#E2E8F0"               # ‚óª x√°m r·∫•t nh·∫°t ‚Äî ch·ªØ
    BORDER_COLOR: "#0F172A"
    BORDER_PX: 0
    RADIUS_PX: 0
    SHADOW: false
    PADDING_PX: 14

    AXIS:
      INHERIT: true               # true: k·∫ø th·ª´a MODE/X/Y t·ª´ CENTER_AXIS n·∫øu ƒë·ªÉ 'inherit'
      MODE: inherit               # inherit | viewport | container
      X_PCT: 50
      Y_PCT: 50
      OFFSET_X_PX: 0              # D·ªãch quanh m·ªëc (px)
      OFFSET_Y_PX: 0
      SCALE_X: 1.0                # Thu-ph√≥ng quanh m·ªëc
      SCALE_Y: 1.0

    DIVIDER:
      USE_LOCAL: true
      SHOW: true
      Z_INDEX: 230                # (tu·ª≥ ch·ªçn) override; n·∫øu b·ªè s·∫Ω d√πng LAYERS.DIVIDER
      BASE_ON_AXIS: true          # true: neo theo m·ªëc AXIS.X_PCT
      OFFSET_X_PX: 0
      COLOR: "#EEF2F7"
      STYLE: "solid"
      WIDTH_PX: 1
      ORIGIN_EDGE: "right"        # d√πng khi BASE_ON_AXIS=false (left|right)

  CHAT_PANEL:
    ENABLED: true
    Z_INDEX: 110                  # (tu·ª≥ ch·ªçn) override; n·∫øu b·ªè s·∫Ω d√πng LAYERS.CHAT
    OFFSET_X: "0px"
    OFFSET_Y: "0px"
    BG: "#FFFFFF"
    TEXT: "#1F2328"
    BORDER_COLOR: "#FFFFFF"
    BORDER_PX: 0
    RADIUS_PX: 0
    SHADOW: false
    PADDING_PX: 0
    CHAT_MAX_WIDTH_PX: 880
    CHAT_HEIGHT_VH_DESKTOP: 72
    CHAT_HEIGHT_VH_MOBILE: 68

    AXIS:
      INHERIT: true
      MODE: inherit
      X_PCT: 50
      Y_PCT: 50
      OFFSET_X_PX: 0
      OFFSET_Y_PX: 0
      SCALE_X: 1.0
      SCALE_Y: 1.0

  CHAT_INPUT:
    ENABLED: true
    Z_INDEX: 900                  # (tu·ª≥ ch·ªçn) override; n·∫øu b·ªè s·∫Ω d√πng LAYERS.INPUT
    WIDTH_PCT: 600
    OFFSET_X: "0px"               # Khi ƒë√£ c√≥ chat (tr·∫°ng th√°i b√¨nh th∆∞·ªùng)
    OFFSET_Y: "0px"
    EMPTY_OFFSET_VH: -30          # Khi ch∆∞a c√≥ chat: k√©o input l√™n g·∫ßn gi·ªØa
    BG: "#F7F7F8"
    BORDER_COLOR: "#0B1520"
    BORDER_PX: 1
    RADIUS_PX: 999
    STICKY_BOTTOM_PX: 20
    ALIGN: right

    AXIS:
      INHERIT: true
      MODE: inherit
      X_PCT: 50
      Y_PCT: 50
      OFFSET_X_PX: 0
      OFFSET_Y_PX: 0
      SCALE_X: 1.0
      SCALE_Y: 1.0

  BUBBLE_USER:
    ENABLED: true
    BG: "#E7F0FF"                 # üîµ xanh nh·∫°t
    TEXT: "#0B1520"               # ‚óº x√°m ƒë·∫≠m
    BORDER_COLOR: "#DCE6FF"       # üîµ vi·ªÅn xanh nh·∫°t
    BORDER_PX: 1
    RADIUS_PX: 16

  BUBBLE_BOT:
    ENABLED: true
    BG: "#FFFFFF"                 # ‚ö™ tr·∫Øng
    TEXT: "#0B1520"               # ‚óº x√°m ƒë·∫≠m
    BORDER_COLOR: "#E5E7EB"       # ‚óª x√°m nh·∫°t
    BORDER_PX: 1
    RADIUS_PX: 16

# ---------------------------------------------------------
# TH√ÄNH PH·∫¶N B·ªî TR·ª¢
# ---------------------------------------------------------
COMPONENTS:
  HIDE_STREAMLIT_CHROME: false     # true: ·∫©n menu + footer; header s·∫Ω ƒê∆Ø·ª¢C GI·ªÆ l·∫°i b·ªüi code
  EMPTY_STATE:
    SHOW: true
    TITLE_HTML: "B·∫°n ƒëang l√†m v·ªÅ c√°i g√¨?"
    SUB_HTML: "H·ªèi b·∫•t k·ª≥ ƒëi·ªÅu g√¨‚Ä¶"

# ---------------------------------------------------------
# SIDEBAR d·ª±ng t·ª´ YAML ‚Äî SECTIONS
# ---------------------------------------------------------
SIDEBAR_CONTENT:
  SHOW: true
  SECTIONS:
    - type: new_chat_button
      label: "ƒêo·∫°n chat m·ªõi"
    - type: history
      label: "L·ªãch s·ª≠ ƒëo·∫°n chat"
    - type: spacer
    - type: slider
      label: "Temperature"
      min: 0.0
      max: 1.0
      step: 0.05
      value: 0.3
    - type: slider
      label: "Top-p"
      min: 0.1
      max: 1.0
      step: 0.05
      value: 1.0
    - type: toggle
      label: "Fallback"
      value: true
    - type: number
      label: "Retriever k"
      min: 1
      max: 20
      step: 1
      value: 6
    - type: slider
      label: "Min relevance"
      min: 0.0
      max: 1.0
      step: 0.01
      value: 0.25
